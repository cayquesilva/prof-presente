# üé´ Sistema de Crach√°s Virtuais - Windows

[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org/)
[![React](https://img.shields.io/badge/React-18+-blue.svg)](https://reactjs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15+-blue.svg)](https://postgresql.org/)
[![Docker](https://img.shields.io/badge/Docker-Ready-blue.svg)](https://docker.com/)
[![Windows](https://img.shields.io/badge/Windows-10%2F11-blue.svg)](https://microsoft.com/windows)

Um sistema completo para gest√£o de crach√°s virtuais com QR codes, check-ins autom√°ticos, gamifica√ß√£o e relat√≥rios avan√ßados. **Otimizado para desenvolvimento local no Windows**.

## üöÄ Caracter√≠sticas Principais

- **üé´ Crach√°s Virtuais**: Gera√ß√£o autom√°tica de crach√°s com QR codes √∫nicos
- **üì± Check-ins Inteligentes**: Sistema de check-in via QR code com valida√ß√£o em tempo real
- **üèÜ Gamifica√ß√£o**: Sistema de badges e premia√ß√µes autom√°ticas baseadas em frequ√™ncia
- **üìä Relat√≥rios Avan√ßados**: Dashboards com m√©tricas de participa√ß√£o e frequ√™ncia
- **üë• Gest√£o de Usu√°rios**: Sistema completo de cadastro e permiss√µes
- **üìÖ Gest√£o de Eventos**: Cria√ß√£o e administra√ß√£o de cursos e forma√ß√µes
- **‚≠ê Avalia√ß√µes**: Sistema de feedback e avalia√ß√£o de eventos
- **üîí Seguran√ßa**: Autentica√ß√£o JWT e criptografia de dados sens√≠veis

## üõ†Ô∏è Tecnologias Utilizadas

### Backend
- **Node.js** com Express.js
- **PostgreSQL** com Prisma ORM (via Docker)
- **JWT** para autentica√ß√£o
- **Bcrypt** para criptografia de senhas
- **QR Code** para gera√ß√£o de c√≥digos √∫nicos
- **Multer** para upload de arquivos

### Frontend
- **React 18** com Hooks e Context API
- **Vite** para build e desenvolvimento
- **Tailwind CSS** para estiliza√ß√£o
- **React Router** para navega√ß√£o
- **React Query** para gerenciamento de estado
- **Lucide React** para √≠cones

### Infraestrutura
- **Docker Desktop** para PostgreSQL
- **Nginx** para proxy reverso (produ√ß√£o)
- **Scripts Windows** para automa√ß√£o

## üìã Pr√©-requisitos para Windows

### Software Obrigat√≥rio

1. **Node.js 18+** - [Download](https://nodejs.org/)
   - Baixe a vers√£o LTS mais recente
   - Marque "Automatically install the necessary tools" durante a instala√ß√£o

2. **Docker Desktop** - [Download](https://www.docker.com/products/docker-desktop/)
   - Necess√°rio para executar o PostgreSQL
   - Execute como administrador durante a instala√ß√£o

3. **Git para Windows** - [Download](https://git-scm.com/download/win)
   - Mantenha as configura√ß√µes padr√£o
   - Inclui Git Bash para comandos Unix-like

### Software Recomendado

4. **Visual Studio Code** - [Download](https://code.visualstudio.com/)
   - Editor recomendado com extens√µes para React e Node.js

5. **Windows Terminal** - [Microsoft Store](https://aka.ms/terminal)
   - Terminal moderno para melhor experi√™ncia de desenvolvimento

## üèÉ‚Äç‚ôÇÔ∏è In√≠cio R√°pido (Windows)

### 1. Download do Projeto

```cmd
# Op√ß√£o 1: Clone via Git
git clone [URL_DO_REPOSITORIO]
cd cracha-virtual-system

# Op√ß√£o 2: Baixe e extraia o arquivo ZIP
# Extraia para C:\Projetos\cracha-virtual-system (ou pasta de sua escolha)
```

### 2. Configura√ß√£o Autom√°tica

Execute o script de inicializa√ß√£o que configura tudo automaticamente:

```cmd
# Execute o script de setup
scripts\start-dev.bat
```

Este script ir√°:
- ‚úÖ Verificar se Docker e Node.js est√£o instalados
- ‚úÖ Iniciar o banco PostgreSQL em container
- ‚úÖ Configurar o banco de dados
- ‚úÖ Mostrar as pr√≥ximas etapas

### 3. Iniciar Backend

Abra um novo **Prompt de Comando** ou **PowerShell**:

```cmd
cd cracha-virtual-system
npm install
npm run dev
```

### 4. Iniciar Frontend

Abra outro **Prompt de Comando** ou **PowerShell**:

```cmd
cd cracha-virtual-frontend
npm install
npm run dev
```

### 5. Acessar o Sistema

- **Frontend**: http://localhost:5173
- **Backend API**: http://localhost:3000/api
- **Adminer (DB)**: http://localhost:8080

### üîë Credenciais de Teste
- **Admin**: admin@cracha.com / 123456
- **Usu√°rio**: user1@cracha.com / 123456

## üîß Scripts Windows Inclu√≠dos

### Scripts de Automa√ß√£o

O projeto inclui scripts `.bat` para facilitar o desenvolvimento no Windows:

```cmd
# Iniciar ambiente completo
scripts\start-dev.bat

# Parar todos os servi√ßos
scripts\stop-dev.bat

# Resetar banco de dados (apaga todos os dados)
scripts\reset-db.bat
```

### Estrutura dos Scripts

- **start-dev.bat**: Configura e inicia o ambiente de desenvolvimento
- **stop-dev.bat**: Para todos os containers Docker
- **reset-db.bat**: Reseta o banco e recria dados de exemplo

## üóÑÔ∏è Configura√ß√£o do Banco PostgreSQL

### Via Docker (Recomendado)

O PostgreSQL roda em um container Docker, eliminando a necessidade de instala√ß√£o local:

```yaml
# docker-compose.dev.yml (j√° inclu√≠do)
services:
  postgres-dev:
    image: postgres:15-alpine
    container_name: cracha_postgres_dev
    environment:
      POSTGRES_DB: cracha_virtual_dev
      POSTGRES_USER: cracha_user
      POSTGRES_PASSWORD: cracha123
    ports:
      - "5432:5432"
```

### Administra√ß√£o via Adminer

Interface web para gerenciar o banco:
- **URL**: http://localhost:8080
- **Sistema**: PostgreSQL
- **Servidor**: postgres-dev
- **Usu√°rio**: cracha_user
- **Senha**: cracha123

## üìÅ Estrutura do Projeto

```
cracha-virtual-system/
‚îú‚îÄ‚îÄ üìÅ cracha-virtual-system/     # Backend Node.js
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ controllers/       # Controladores da API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ routes/           # Rotas da API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ middleware/       # Middlewares
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ utils/            # Utilit√°rios
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ prisma/               # Schema e migra√ß√µes
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ scripts/              # Scripts de seed
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ uploads/              # Arquivos enviados
‚îú‚îÄ‚îÄ üìÅ cracha-virtual-frontend/   # Frontend React
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ components/       # Componentes React
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ pages/           # P√°ginas da aplica√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ hooks/           # Hooks customizados
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ lib/             # Bibliotecas e utils
‚îú‚îÄ‚îÄ üìÅ scripts/                  # Scripts Windows (.bat)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ start-dev.bat        # Iniciar desenvolvimento
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ stop-dev.bat         # Parar servi√ßos
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ reset-db.bat         # Resetar banco
‚îú‚îÄ‚îÄ üìÑ docker-compose.dev.yml    # Docker para desenvolvimento
‚îú‚îÄ‚îÄ üìÑ guia_instalacao_windows.md # Guia detalhado
‚îî‚îÄ‚îÄ üìÑ README_windows.md         # Este arquivo
```

## ‚öôÔ∏è Configura√ß√£o de Vari√°veis

### Backend (.env)
```env
# Banco de dados (Docker local)
DATABASE_URL="postgresql://cracha_user:cracha123@localhost:5432/cracha_virtual_dev"

# JWT
JWT_SECRET="sua_chave_secreta_super_segura"
JWT_EXPIRES_IN="24h"

# Servidor
PORT=3000
NODE_ENV="development"

# CORS
CORS_ORIGIN="http://localhost:5173"
```

### Frontend (.env)
```env
# URL da API local
VITE_API_URL=http://localhost:3000/api
```

## üöÄ Funcionalidades Implementadas

### ‚úÖ Sistema Completo
- **Autentica√ß√£o JWT** com refresh tokens
- **CRUD de Usu√°rios** com upload de fotos
- **Gest√£o de Eventos** completa
- **Sistema de Inscri√ß√µes** com aprova√ß√£o
- **Crach√°s Virtuais** com QR codes √∫nicos
- **Check-ins Autom√°ticos** via QR code
- **Gamifica√ß√£o** com badges e rankings
- **Avalia√ß√µes** de cursos e eventos
- **Relat√≥rios** administrativos detalhados

### ‚ö° Otimiza√ß√µes de Performance
- **Lazy Loading** de componentes React
- **Connection Pooling** para PostgreSQL
- **Indexa√ß√£o avan√ßada** no banco de dados
- **Cache inteligente** com React Query
- **Compress√£o** de assets

## üêõ Solu√ß√£o de Problemas Windows

### Problemas Comuns

**‚ùå "Docker daemon is not running"**
```cmd
# Solu√ß√£o: Inicie o Docker Desktop e aguarde carregar completamente
# Verifique no system tray se o Docker est√° rodando
```

**‚ùå "Port 5432 is already in use"**
```cmd
# Solu√ß√£o: Pare outros servi√ßos PostgreSQL ou altere a porta
# Verifique: netstat -ano | findstr :5432
```

**‚ùå "npm ERR! peer dep missing"**
```cmd
# Solu√ß√£o: Use legacy peer deps
npm install --legacy-peer-deps
```

**‚ùå "Cannot find module"**
```cmd
# Solu√ß√£o: Limpe e reinstale depend√™ncias
rmdir /s node_modules
del package-lock.json
npm install
```

### Performance no Windows

**Antiv√≠rus interferindo**
- Adicione as pastas do projeto √†s exclus√µes do Windows Defender
- Caminho: Windows Security > Virus & threat protection > Exclusions

**Build lento**
- Exclua `node_modules` do antiv√≠rus
- Use SSD para melhor performance
- Feche programas desnecess√°rios durante o desenvolvimento

## üìö Comandos √öteis Windows

### Docker
```cmd
# Ver containers rodando
docker ps

# Ver logs do banco
docker logs cracha_postgres_dev

# Acessar banco via linha de comando
docker exec -it cracha_postgres_dev psql -U cracha_user -d cracha_virtual_dev

# Parar todos os containers
docker-compose -f docker-compose.dev.yml down
```

### npm
```cmd
# Instalar depend√™ncias
npm install

# Modo desenvolvimento
npm run dev

# Build para produ√ß√£o
npm run build

# Limpar cache
npm cache clean --force
```

### Prisma
```cmd
# Gerar cliente
npx prisma generate

# Executar migra√ß√µes
npx prisma migrate dev

# Resetar banco
npx prisma migrate reset

# Interface visual do banco
npx prisma studio
```

## üîÑ Workflow de Desenvolvimento

### Rotina Di√°ria

1. **Iniciar o dia**:
   ```cmd
   scripts\start-dev.bat
   ```

2. **Desenvolver** (2 terminais):
   ```cmd
   # Terminal 1 - Backend
   cd cracha-virtual-system
   npm run dev
   
   # Terminal 2 - Frontend  
   cd cracha-virtual-frontend
   npm run dev
   ```

3. **Finalizar o dia**:
   ```cmd
   scripts\stop-dev.bat
   ```

### Atualiza√ß√µes

Quando receber atualiza√ß√µes do projeto:

```cmd
# 1. Parar servi√ßos
scripts\stop-dev.bat

# 2. Atualizar depend√™ncias
cd cracha-virtual-system && npm install
cd ..\cracha-virtual-frontend && npm install

# 3. Executar migra√ß√µes
cd ..\cracha-virtual-system && npx prisma migrate dev

# 4. Reiniciar
scripts\start-dev.bat
```

## üìñ Documenta√ß√£o Adicional

- **[üìò Guia Detalhado Windows](guia_instalacao_windows.md)** - Instru√ß√µes completas
- **[üê≥ Deploy Docker](deploy-guide.md)** - Para produ√ß√£o
- **[üìö Documenta√ß√£o T√©cnica](documentacao_completa.md)** - Arquitetura e APIs
- **[üë§ Manual do Usu√°rio](manual_usuario.md)** - Como usar o sistema

## üéØ Pr√≥ximos Passos

Ap√≥s a instala√ß√£o, voc√™ pode:

1. **Explorar o sistema** com as credenciais de teste
2. **Criar novos eventos** e testar inscri√ß√µes
3. **Gerar crach√°s** e testar check-ins
4. **Visualizar relat√≥rios** no dashboard admin
5. **Personalizar** conforme suas necessidades

## ü§ù Suporte

Para d√∫vidas ou problemas:

1. Consulte o **[Guia Detalhado](guia_instalacao_windows.md)**
2. Verifique a se√ß√£o **Solu√ß√£o de Problemas** acima
3. Execute `scripts\reset-db.bat` se houver problemas com dados
4. Reinicie o Docker Desktop se necess√°rio

## üìÑ Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Desenvolvido com foco em qualidade, performance e facilidade de uso no Windows.

---

**üöÄ Desenvolvido por Manus AI** - Sistema profissional pronto para uso em produ√ß√£o, otimizado para desenvolvimento local no Windows.

